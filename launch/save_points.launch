<?xml version="1.0"?>
<launch>
    <!--Launch Sensor Node-->
	<!--include file="$(find sq1_extra)/launch/run_sq2_for_joy.launch"/-->

    <!--Launch Sensor TF-->
	<include file="$(find sensor_fusion)/launch/laser_tf.launch"/>

	<!--Transform PointCloud2 data at Camera Link-->
	<node pkg="sensor_fusion" type="laser_transform_pointcloud" name="laser_transform_pointcloud"/>
	
	<!--divide PointCloud-->
	<node pkg="sensor_fusion" type="division_one_shot" name="division_one_shot" >
		<remap from="/cloud" 		to="/cloud/tf" />
		<remap from="/cloud/center" to="/sq_lidar/points/center" />
		<remap from="/cloud/left" 	to="/sq_lidar/points/left" />
		<remap from="/cloud/right" 	to="/sq_lidar/points/right" />
	</node>

	<!--Save PointCloud-->
	<param name="lcl/save_num" type="int" value="500" />
	<node pkg="sensor_fusion" type="lcl" name="lcl_center">
		<remap from="/cloud" to="/sq_lidar/points/center" />
		<remap from="/cloud/lcl" to="/lcl/center" />
	</node>

	<!--republish zed image-->
	<include file="$(find sensor_fusion)/launch/republish.launch"/>
	
</launch>
